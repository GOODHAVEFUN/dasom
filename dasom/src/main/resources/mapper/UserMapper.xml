<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.dasom.mapper.UserMapper">


    <!--이우진 아이디찾기-->
    <select id="findUserId" parameterType="UserDto" resultType="UserDto">
        select *
        from tbl_users
        where user_name = #{userName}
          and user_Phone = #{userPhone}
          and user_Birth_Year = #{userBirthYear}
          and user_Birth_Month = #{userBirthMonth}
          and user_Birth_Day = #{userBirthDay}
    </select>
    <!--이우진 아이디찾기-->
    <select id="findUserPassword" parameterType="UserDto" resultType="UserDto">
        select *
        from tbl_users
        where user_password = #{userPassword}
          and user_name = #{userName}
          and user_Phone = #{userPhone}
    </select>

    <insert id="insert">
        insert into TBL_USERS (USER_NUMBER, USER_ID, USER_PASSWORD, USER_NAME, USER_BIRTH_YEAR, USER_BIRTH_MONTH,
                               USER_BIRTH_DAY, USER_PHONE, USER_EMAIL, USER_GENDER, USER_POST_CODE, USER_ADDR, USER_ADDR_EXTRA,
                               USER_ADDR_DETAIL)
        values (seq_users.nextval, #{userId}, #{userPassword}, #{userName}, #{userBirthYear}, #{userBirthMonth},
                #{userBirthDay}, #{userPhone}, #{userEmail}, #{userGender}, #{userPostCode}, #{userAddr},
                #{userAddExtra}, #{userAddDetail})
    </insert>

    <select id="select" resultType="userDto">
        select user_number, user_id, user_name
        from tbl_users
        where user_id = #{userId} and user_password = #{userPassword}
    </select>

    <select id="checkId" resultType="_int">
        SELECT COUNT(user_id)
        FROM tbl_users
        where user_id = #{userId}
    </select>




</mapper>