<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.dasom.mapper.CsListMapper">

<!--    기부 리스트 전체 게시글 수 구하기-->
    <select id="selectTotal" resultType="_int">
        SELECT COUNT(DONATE_NUMBER)
        FROM TBL_DONATEWRITE
    </select>

    <select id="selectList" resultType="csWriteDto">
        SELECT *
        FROM TBL_CSWRITE
        WHERE CSWRITE_STATUS = '${status}'
    </select>

    <select id="selectDetail" resultType="csDetailVo">
        SELECT W.CSWRITE_NUMBER, ADMIN_NUMBER, CSWRITE_TITLE, CSWRITE_RECRUIT_START, CSWRITE_RECRUIT_END,
                CSWRITE_COUNT, CSWRITE_PLACE, CSWRITE_ACT_START, CSWRITE_ACT_END, CSWRITE_STATUS, CSWRITE_DATE,
                CSWRITE_MANAGER, CSWRITE_PHONE, CSFILE_NUMBER, CSFILE_NAME, CSFILE_UPLOAD_PATH, CSFILE_UUID
        FROM  TBL_CSFILE F JOIN TBL_CSWRITE W
        ON F.CSWRITE_NUMBER = W.CSWRITE_NUMBER
        WHERE W.CSWRITE_NUMBER = ${csWriteNum}
    </select>

    <insert id="insert">
        INSERT INTO TBL_CS (CS_NUMBER, USER_NUMBER, CSWRITE_NUMBER, CS_APPLY_DATE)
        values (SEQ_CS.nextval, ${userNumber}, ${csWriteNumber},SYSDATE)
    </insert>


</mapper>